"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.applyPatchIterator = void 0;
const fast_json_patch_1 = require("fast-json-patch");
function applyPatchIterator(patch, target, callback) {
    if (!target) {
        throw new Error('No target object provided');
    }
    const current = (0, fast_json_patch_1.deepClone)(target);
    for (const op of patch) {
        if (typeof callback === 'function') {
            callback(op, current);
        }
        (0, fast_json_patch_1.applyOperation)(current, op);
    }
    return current;
}
exports.applyPatchIterator = applyPatchIterator;
